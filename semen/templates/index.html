{% load static %}
{% load staticfiles %}
{% static "images/devices_types" as prepath %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <title>Good Master</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/fonts.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/reset.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">


    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter45389940 = new Ya.Metrika({
                        id:45389940,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor:true,
                        trackHash:true
                    });
                } catch(e) { }
            });

            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/watch.js";

            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/45389940" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->

</head>
<body>


<div class="screens">


    <!-- screen 1 -->
    <div class="screen screen-1" id="__screen-1__">
        <h1 class="screen-1__title screen-1__title_main">Good Master</h1>
        <h2 class="screen-1__title screen-1__title_sub">
            Выездной ремонт техники Apple. 
            <br>Дома, в офисе, в кафе. С 10:00 и до 22:00.
        </h2>

        <div class="screen-1__buttons">
            <div id="screen-1__calculate-cost" class="
                screen-1__button
                screen-1__button_сalculate-cost">
                Рассчитать стоимость
            </div>
            <div id="screen-1__request-call" class="
                screen-1__button
                screen-1__button_сallback">
                Заказать звонок
            </div>
        </div>

        <div class="screen-1__social">
            <a href="" class="screen-1__social-link" 
            id="screen-1__social-vk"></a>
            <a href="" class="screen-1__social-link"
            id="screen-1__social-telegram"
            ></a>
            <a href="" class="screen-1__social-link"
            id="screen-1__social-instagram"
            ></a>
        </div>
    </div>


    <!-- screen 2 -->
    <div class="screen screen-2" id="calculating">


        <div id="screen-2__special-image-for-vovan">
            
        </div>

        <div class="screen-2__step screen-2__step_1 screen-2__step_visible" id="calc-step-1">
            <h3 class="screen-2__step-title">Выбери устройство</h3>
            <div class="screen-2__devices-types">
                {% for item in list %}
                    <div 
                        class="screen-2__device-type" 
                        device-type-btn="{{ item.type.id }}"
                    >
                        <div 
                            class="screen-2__device-type-img"
                            style="background-image: url('{{ prepath }}/{{ item.type }}.png')"
                        ></div>
                        <div class="screen-2__device-type-name">
                            {{ item.type }}
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

    
        <div id="calc-step-2" class="screen-2__step screen-2__step_2">
            <h3 class="screen-2__step-title">Выбери модель</h3>

            {% for item in list %}
                <div   
                    class="screen-2__devices-names" 
                    device-type-id="{{ item.type.id }}"
                >
                    {% for device in item.models %}
                        <div 
                            class="screen-2__device-name" 
                            device-name-btn="{{ device.id }}"
                        >
                            {{ device.name }}
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>

        <div id="calc-step-3" class="screen-2__step screen-2__step_3">
            <h3 class="screen-2__step-title">Что беспокоит</h3>

            {% for item in list %}
                {% for device in item.models %}
                    <div 
                        class="screen-2__crashes-names"
                        device-name-id="{{ device.id }}" 
                    >
                        {% for crash in device.crashes %}
                            <div 
                                class="screen-2__crash"
                                device-crash-btn="{{ crash.id }}"
                                crash-cost="{{ crash.cost }}"
                                crash-time="{{ crash.time }}"
                            >
                                <div class="screen-2__crash-icon" style="background-image: url('../static/images/std-icon.svg');"></div>

                                <div class="screen-2__crash-icon_selected" style="background-image: url('../static/images/std-icon_white.svg');"></div>
                                <div 
                                class="screen-2__crash-name">
                                    {{ crash.name }}
                                    <span class="screen-2__crash-cost">
                                        {{ crash.cost }}₽
                                    </span>
                                </div>
                                <div class="screen-2__crash-check"></div>
                            </div>
                        {% endfor %}
                    </div>
                {% endfor %}
            {% endfor %}

            <p 
                select-param="device-crashes-desc"
                class="screen-2__order-description _selectable"
            >
                Наш мастер перезвонит Вам в течение часа. Точная сумма заказа
                <span 
                    class="blue-text _selectable" 
                    select-param="device-crash-cost">
                    9700₽
                </span>, ремонт займет не более чем
                <span 
                    class="blue-text _selectable"
                    select-param="device-crash-time"
                ></span>.
            </p>

            <div 
                class="button screen-2__button-calc-ready"
                select-param="device-selected-crashes-button"
            >
                Готово
            </div>

        </div>





        <div 
            class="screen-2__order"
            id="screen-2__order" 
            select-param="order-form"
        >
            <div 
            select-param="order-form-contacts"
            class="screen-2__order-container">
                <h3 class="screen-2__step-title">Контактные данные</h3>
                <div class="screen-2__order-form">

                    <div class="text-input">
                        <label class="text-input__label" for="client-name">Как Вас зовут</label>
                        <input id="client-name" type="text" class="text-input__input">
                    </div>


                    <div class="text-input">
                        <label class="text-input__label" for="client-phone">Контактный телефон</label>
                        <input value="+7 (___) ___-__-__" 
                        pattern="^\+7 \([0-9]{3}\) [0-9]{3}-[0-9]{2}-[0-9]{2}$" id="client-phone" name="phone" type="tel" class="text-input__input">
                    </div>

                    <div class="checkbox screen-2__map-checkbox">
                        <div 
                        select-param="show-map-checkbox"
                        class="checkbox__checkbox"></div>
                        <label class="checkbox__label">Указать адрес на карте</label>
                    </div>
                
                    <div 
                    id="button_order" 
                    class="button button_blue">Вызвать мастера</div>
                </div>
            

        
            </div>

            <div id="map" class="screen-2__map-container"></div>
        </div>


    </div>


    <div class="screen screen-3">
        <h3 class="screen-3__title">Почему мы</h3>

        <div class="screen-3__advantages">
            <div class="screen-3__advantage">
                <div id="screen-3-advantage-logo-1" class="screen-3__advantage-logo"></div>
                <div class="screen-3__advantage-title">
                    Экономим Ваше время
                </div>
                <div class="screen-3__advantage-desc">
                    Наш мастер придет к Вам в кафе, офис и Вам не придется ехать в сервис
                </div>
            </div>
            <div class="screen-3__advantage">
                <div id="screen-3-advantage-logo-2" class="screen-3__advantage-logo"></div>
                <div class="screen-3__advantage-title">
                    Экономим Ваши деньги
                </div>
                <div class="screen-3__advantage-desc">
                    Мы стараемся сохарнять оптимальное соотношение цены и качества наших услуг
                </div>
            </div>
            <div class="screen-3__advantage">
                <div id="screen-3-advantage-logo-3" class="screen-3__advantage-logo"></div>
                <div class="screen-3__advantage-title">
                    Выбор деталей
                </div>
                <div class="screen-3__advantage-desc">
                    Вы всегда сможете выбрать оригинальные детали или их полные аналоги
                </div>
            </div>
            <div class="screen-3__advantage">
                <div id="screen-3-advantage-logo-4" class="screen-3__advantage-logo"></div>
                <div class="screen-3__advantage-title">
                    Гарантия качества
                </div>
                <div class="screen-3__advantage-desc">
                    Даем 1 месяц гарантии нашей работы
                </div>
            </div>
        </div>
    </div>
    <div class="screen screen-4">
        <h3 class="screen-4__title">Отзывы</h3>

        <div class="screen-4__comments">
            <div class="screen-4__comments_side screen-4__comments_side_left" id="test-feedback-target">

                <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:37.5% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div> <p style=" margin:8px 0 0 0; padding:0 4px;"> <a href="https://www.instagram.com/p/BWuaSAWl67H/" style=" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;" target="_blank">Счастье в моментах 🎈☀️</a></p> <p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;">Публикация от birukosha (@birukosha) <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-19T10:41:38+00:00">Июл 19 2017 в 3:41 PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>

            </div><!--
            --><div class="screen-4__comments_side screen-4__comments_side_right">

            
                <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:62.5% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div> <p style=" margin:8px 0 0 0; padding:0 4px;"> <a href="https://www.instagram.com/p/BWoz7w_lBHy/" style=" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;" target="_blank">Прилегла отдохнуть 😴</a></p> <p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;">Публикация от birukosha (@birukosha) <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-07-17T06:30:21+00:00">Июл 16 2017 в 11:30 PDT</time></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>

            </div>
        </div>
    </div>

    <div id="go-to-top-button"></div>
</div>


<footer class="footer">
    {% csrf_token %}
</footer>


<div class="modal-window" id="thanks-modal">
    <div class="modal-window__close-btn" onclick="UI.closeModal('thanks-modal')" >×</div>
    <div class="modal-window__main-title">Спасибо за заказ!</div>
    <div class="modal-window__content">Наш мастер перезвонит Вам в течение часа чтобы обсудить детали и договориться о встрече.</div>
    <div class="modal-window__btn" onclick="UI.closeModal('thanks-modal')" >Жду!</div>
</div>

<div class="modal-window" id="bad-modal">
    <div class="modal-window__close-btn" onclick="UI.closeModal('bad-modal')" >×</div>
    <div class="modal-window__main-title">Упс!</div>
    <div class="modal-window__content">
        Кажется что то пошло не так...
        <br>
        Обновите страницу или повторите попытку позже.
    </div>
    <div class="modal-window__btn" onclick="UI.closeModal('bad-modal')" >Ок</div>
</div>

<div class="modal-window" id="callback-modal">
    <div class="modal-window__close-btn" onclick="UI.closeModal('callback-modal')" >×</div>
    <div class="modal-window__main-title">Заказать обратный звонок</div>
    <div class="modal-window__content">
        <div class="text-input">
            <label class="text-input__label" for="client-name-callback">Ваше имя</label>
            <input id="client-name-callback" type="text" class="text-input__input">
        </div>
        <div class="text-input">
            <label class="text-input__label" for="client-phone-callback">Номер телефона</label>
            <input id="client-phone-callback" type="text" class="text-input__input">
        </div>
    </div>
    <div class="modal-window__btn" onclick="UI.onOrder(true)" style="margin-top: 0;">Перезвоните мне</div>
</div>

<div id="__global-loader__">
    <div id="__global-loader__wrap">
        <span id="__global-loader__text">Good Master</span>    
        <div id="__global-loader__loader"></div>
    </div>
</div>

{% if isLoggedIn %}
<meta name="sw" content="{% static 'js/service-worker.js' %}">
<link rel="manifest" href="{% static 'js/manifest.json' %}">
<script src="{% static 'js/firebase.js' %}"></script>
{% endif %}
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
<script src="//api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
<script type="text/javascript" src="{% static 'js/main.js' %}"></script>
</body>
</html>
