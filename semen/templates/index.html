{% load static %}
{% load staticfiles %}
{% static "images/devices_types" as prepath %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Good Master</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/fonts.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/reset.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
</head>
<body>

<!-- <header class="header">

    <div class="header__logo"></div>
    <div class="header__name"></div>

</header> -->


<div class="screens">


    <!-- screen 1 -->
    <div class="screen screen-1">
        <h1 class="screen-1__title screen-1__title_main">Good Master</h1>
        <h2 class="screen-1__title screen-1__title_sub">Быстрый и качественный ремонт техники Apple</h2>

        <div class="screen-1__buttons">
            <div id="screen-1__calculate-cost" class="
                screen-1__button
                screen-1__button_сalculate-cost">
                Рассчитать стоимость
            </div>
            <div id="screen-1__request-call" class="
                screen-1__button
                screen-1__button_сallback">
                Заказать звонок
            </div>
        </div>

        <div class="screen-1__social">
            <a href="" class="screen-1__social-link"></a>
            <a href="" class="screen-1__social-link"></a>
            <a href="" class="screen-1__social-link"></a>
        </div>
    </div>


    <!-- screen 2 -->
    <div class="screen screen-2" id="calculating">
        <div class="screen-2__step screen-2__step_1 screen-2__step_visible" id="calc-step-1">
            <h3 class="screen-2__step-title">Выбери устройство</h3>
            <div class="screen-2__devices-types">
                {% for item in list %}
                    <div 
                        class="screen-2__device-type" 
                        device-type-btn="{{ item.type.id }}"
                    >
                        <div 
                            class="screen-2__device-type-img"
                            style="background-image: url('{{ prepath }}/{{ item.type }}.png')"
                            id="device__iphone"
                        ></div>
                        <div class="screen-2__device-type-name">
                            {{ item.type }}
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

    
        <div id="calc-step-2" class="screen-2__step screen-2__step_2">
            <h3 class="screen-2__step-title">Выбери модель</h3>

            {% for item in list %}
                <div   
                    class="screen-2__devices-names" 
                    device-type-id="{{ item.type.id }}"
                >
                    {% for device in item.models %}
                        <div 
                            class="screen-2__device-name" 
                            device-name-btn="{{ device.id }}"
                        >
                            {{ device.name }}
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>

        <div id="calc-step-3" class="screen-2__step screen-2__step_3">
            <h3 class="screen-2__step-title">Что беспокоит</h3>

            {% for item in list %}
                {% for device in item.models %}
                    <div 
                        class="screen-2__crashes-names"
                        device-name-id="{{ device.id }}" 
                    >
                        {% for crash in device.crashes %}
                            <div 
                                class="screen-2__crash"
                                device-crash-btn="{{ crash.id }}"
                                crash-cost="{{ crash.cost }}"
                                crash-time="{{ crash.time }}"
                            >
                                <div class="screen-2__crash-icon"></div>
                                <div 
                                class="screen-2__crash-name">
                                    {{ crash.name }}
                                    <span class="screen-2__crash-cost">
                                        {{ crash.cost }}₽
                                    </span>
                                </div>
                                <div class="screen-2__crash-check"></div>
                            </div>
                        {% endfor %}
                    </div>
                {% endfor %}
            {% endfor %}

            <p 
                select-param="device-crashes-desc"
                class="screen-2__order-description _selectable"
            >
                Наш мастер перезвонит Вам в течение часа. Точная сумма заказа
                <span 
                    class="blue-text _selectable" 
                    select-param="device-crash-cost">
                    9700₽
                </span>, ремонт займет не более чем
                <span 
                    class="blue-text _selectable"
                    select-param="device-crash-time"
                ></span>.
            </p>

            <div 
                class="button"
                select-param="device-selected-crashes-button"
            >
                Готово
            </div>

        </div>





        <div 
            class="screen-2__order"
            id="screen-2__order" 
            select-param="order-form"
        >
            <div 
            select-param="order-form-contacts"
            class="screen-2__order-container">
                <h3 class="screen-2__step-title">Контактные данные</h3>
                <div class="screen-2__order-form">

                    <div class="text-input">
                        <label class="text-input__label" for="client-name">Как Вас зовут</label>
                        <input id="client-name" type="text" class="text-input__input">
                    </div>


                    <div class="text-input">
                        <label class="text-input__label" for="client-phone">Контактный телефон</label>
                        <input id="client-phone" type="tel" class="text-input__input">
                    </div>

                    <div class="checkbox">
                        <div 
                        select-param="show-map-checkbox"
                        class="checkbox__checkbox"></div>
                        <label class="checkbox__label">Указать адрес на карте</label>
                    </div>
                
                    <div 
                    id="button_order" 
                    class="button button_blue">Вызвать мастера</div>
                </div>
            

        
            </div>

            <div id="map" class="screen-2__map-container"></div>
        </div>


    </div>


    <div class="screen screen-3">
        
    </div>
    <div class="screen screen-4">
        
    </div>
</div>


<footer class="footer">
    {% csrf_token %}
</footer>


<div class="modal-window">Modal here</div>

<script src="//api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
<script type="text/javascript" src="{% static 'js/main.js' %}"></script>
</body>
</html>
